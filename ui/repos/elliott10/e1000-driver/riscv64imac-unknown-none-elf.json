{"repo":{"user":"elliott10","repo":"e1000-driver"},"data":[{"user":"elliott10","repo":"e1000-driver","pkg":"e1000-driver","count":36,"raw_reports":[{"file":"examples/src/boot/sbi.rs","count":11,"kinds":{"Unformatted":["file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 3 to 4)\n-pub fn console_putchar(ch: usize){\n-\tsbi_call(SBI_CONSOLE_PUTCHAR, ch, 0, 0);\n+pub fn console_putchar(ch: usize) {\n+    sbi_call(SBI_CONSOLE_PUTCHAR, ch, 0, 0);\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 8 to 8)\n-\treturn sbi_call(SBI_CONSOLE_GETCHAR, 0, 0, 0);\n+    return sbi_call(SBI_CONSOLE_GETCHAR, 0, 0, 0);\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 11 to 23)\n-pub fn console_putchar_u8(ch: u8){\n-\tlet ret: isize;\n-\t//let arg0: char = ch as char;\n-\tlet arg0: u8 = ch;\n-\tlet arg1: usize = 0;\n-\tlet arg2: usize = 0;\n-\tlet which: usize = 1; //SBI_ECALL_CONSOLE_PUTCHAR\n-\tunsafe{\n-\t\tasm!(\"ecall\",\n-\t\t     lateout(\"x10\") ret,\n-\t\t     in(\"x10\") arg0, in(\"x11\") arg1, in(\"x12\") arg2, in(\"x17\") which\n-             );\n-\t}\n+pub fn console_putchar_u8(ch: u8) {\n+    let ret: isize;\n+    //let arg0: char = ch as char;\n+    let arg0: u8 = ch;\n+    let arg1: usize = 0;\n+    let arg2: usize = 0;\n+    let which: usize = 1; //SBI_ECALL_CONSOLE_PUTCHAR\n+    unsafe {\n+        asm!(\"ecall\",\n+        lateout(\"x10\") ret,\n+        in(\"x10\") arg0, in(\"x11\") arg1, in(\"x12\") arg2, in(\"x17\") which\n+        );\n+    }\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 26 to 28)\n-fn sbi_call(which: usize, arg0: usize, arg1: usize, arg2: usize) -> isize{\n-\tlet ret: isize;\n-\tunsafe{\n+fn sbi_call(which: usize, arg0: usize, arg1: usize, arg2: usize) -> isize {\n+    let ret: isize;\n+    unsafe {\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 30 to 34)\n-             lateout(\"x10\") ret,\n-             in(\"x10\") arg0, in(\"x11\") arg1, in(\"x12\") arg2, in(\"x17\") which\n-            );\n-\t}\n-\tret\n+         lateout(\"x10\") ret,\n+         in(\"x10\") arg0, in(\"x11\") arg1, in(\"x12\") arg2, in(\"x17\") which\n+        );\n+    }\n+    ret\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 37 to 39)\n-pub fn set_timer(stime_value: u64){\n-\t#[cfg(target_pointer_width = \"32\")]\n-\tsbi_call(SBI_SET_TIMER, stime_value as usize, (stime_value >> 32), 0);\n+pub fn set_timer(stime_value: u64) {\n+    #[cfg(target_pointer_width = \"32\")]\n+    sbi_call(SBI_SET_TIMER, stime_value as usize, (stime_value >> 32), 0);\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 41 to 42)\n-\t#[cfg(target_pointer_width = \"64\")]\n-\tsbi_call(SBI_SET_TIMER, stime_value as usize, 0, 0);\n+    #[cfg(target_pointer_width = \"64\")]\n+    sbi_call(SBI_SET_TIMER, stime_value as usize, 0, 0);\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 44 to 45)\n-pub fn clear_ipi(){\n-\tsbi_call(SBI_CLEAR_IPI, 0, 0, 0);\n+pub fn clear_ipi() {\n+    sbi_call(SBI_CLEAR_IPI, 0, 0, 0);\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 48 to 49)\n-pub fn send_ipi(sipi_value: usize){\n-\tsbi_call(SBI_SEND_IPI, sipi_value, 0, 0);\n+pub fn send_ipi(sipi_value: usize) {\n+    sbi_call(SBI_SEND_IPI, sipi_value, 0, 0);\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 52 to 53)\n-pub fn set_s_insn(entry: usize){\n-\tsbi_call(SBI_SET_SINSN, entry, 0, 0);\n+pub fn set_s_insn(entry: usize) {\n+    sbi_call(SBI_SET_SINSN, entry, 0, 0);\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/sbi.rs (original lines from 56 to 57)\n-pub fn shutdown(){\n-\tsbi_call(SBI_SHUTDOWN, 0, 0, 0);\n+pub fn shutdown() {\n+    sbi_call(SBI_SHUTDOWN, 0, 0, 0);\n"]}},{"file":"src/e1000/e1000.rs","count":7,"kinds":{"Clippy(Warn)":["warning: the loop variable `i` is only used to index `tx_ring`\n   --> src/e1000/e1000.rs:117:18\n    |\n117 |         for i in 0..TX_RING_SIZE {\n    |                  ^^^^^^^^^^^^^^^\n    |\n    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_range_loop\n    = note: `#[warn(clippy::needless_range_loop)]` on by default\nhelp: consider using an iterator\n    |\n117 |         for <item> in tx_ring.iter_mut().take(TX_RING_SIZE) {\n    |             ~~~~~~    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n","warning: the loop variable `i` is only used to index `rx_ring`\n   --> src/e1000/e1000.rs:132:18\n    |\n132 |         for i in 0..RX_RING_SIZE {\n    |                  ^^^^^^^^^^^^^^^\n    |\n    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_range_loop\nhelp: consider using an iterator\n    |\n132 |         for <item> in rx_ring.iter_mut().take(RX_RING_SIZE) {\n    |             ~~~~~~    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n","warning: length comparison to zero\n   --> src/e1000/e1000.rs:359:12\n    |\n359 |         if recv_packets.len() > 0 {\n    |            ^^^^^^^^^^^^^^^^^^^^^^ help: using `!is_empty` is clearer and more explicit: `!recv_packets.is_empty()`\n    |\n    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#len_zero\n    = note: `#[warn(clippy::len_zero)]` on by default\n\n","warning: constant `alloc_tx_ring_pages` should have an upper case name\n  --> src/e1000/e1000.rs:14:7\n   |\n14 | const alloc_tx_ring_pages: usize =\n   |       ^^^^^^^^^^^^^^^^^^^ help: convert the identifier to upper case: `ALLOC_TX_RING_PAGES`\n   |\n   = note: `#[warn(non_upper_case_globals)]` on by default\n\n","warning: constant `alloc_rx_ring_pages` should have an upper case name\n  --> src/e1000/e1000.rs:16:7\n   |\n16 | const alloc_rx_ring_pages: usize =\n   |       ^^^^^^^^^^^^^^^^^^^ help: convert the identifier to upper case: `ALLOC_RX_RING_PAGES`\n\n","warning: constant `alloc_tx_buffer_pages` should have an upper case name\n  --> src/e1000/e1000.rs:19:7\n   |\n19 | const alloc_tx_buffer_pages: usize = ((TX_RING_SIZE * MBUF_SIZE) + (PAGE_SIZE - 1)) / PAGE_SIZE;\n   |       ^^^^^^^^^^^^^^^^^^^^^ help: convert the identifier to upper case: `ALLOC_TX_BUFFER_PAGES`\n\n","warning: constant `alloc_rx_buffer_pages` should have an upper case name\n  --> src/e1000/e1000.rs:20:7\n   |\n20 | const alloc_rx_buffer_pages: usize = ((RX_RING_SIZE * MBUF_SIZE) + (PAGE_SIZE - 1)) / PAGE_SIZE;\n   |       ^^^^^^^^^^^^^^^^^^^^^ help: convert the identifier to upper case: `ALLOC_RX_BUFFER_PAGES`\n\n"]}},{"file":"src/lib.rs","count":4,"kinds":{"Unformatted":["file: /home/runner/check/repos-default/elliott10/e1000-driver/src/lib.rs (original lines from 9 to 9)\n-mod utils;\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/src/lib.rs (original lines from 12 to 12)\n+mod utils;\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/src/lib.rs (original lines from 17 to 17)\n-\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/src/lib.rs (original lines from 23 to 25)\n-    fn it_works() {\n-\n-    }\n+    fn it_works() {}\n"]}},{"file":"src/pci.rs","count":4,"kinds":{"Unformatted":["file: /home/runner/check/repos-default/elliott10/e1000-driver/src/pci.rs (original lines from 3 to 3)\n-use volatile::Volatile;\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/src/pci.rs (original lines from 5 to 5)\n+use volatile::Volatile;\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/src/pci.rs (original lines from 22 to 22)\n-        let deve_id = unsafe{ (*pci_base).read() };\n+        let deve_id = unsafe { (*pci_base).read() };\n"],"Clippy(Warn)":["warning: this operation has no effect\n  --> src/pci.rs:45:24\n   |\n45 |             pci_config[4 + 0].write(E1000_REGS);\n   |                        ^^^^^ help: consider reducing it to: `4`\n   |\n   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#identity_op\n   = note: `#[warn(clippy::identity_op)]` on by default\n\n"]}},{"file":"examples/src/boot/lang_items.rs","count":3,"kinds":{"Unformatted":["file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/lang_items.rs (original lines from 4 to 7)\n-fn panic(info: &PanicInfo) -> !{\n-\tprintln!(\"{}\", info);\n-\tcrate::boot::sbi::shutdown();\n-\tunreachable!()\n+fn panic(info: &PanicInfo) -> ! {\n+    println!(\"{}\", info);\n+    crate::boot::sbi::shutdown();\n+    unreachable!()\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/lang_items.rs (original lines from 11 to 12)\n-pub extern \"C\" fn abort() -> !{\n-\tpanic!(\"abort!\");\n+pub extern \"C\" fn abort() -> ! {\n+    panic!(\"abort!\");\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/lang_items.rs (original lines from 14 to 14)\n-\n"]}},{"file":"examples/src/pci_impl.rs","count":2,"kinds":{"Unformatted":["file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/pci_impl.rs (original lines from 2 to 2)\n-use pci::{PortOps, CSpaceAccessMethod};\n+use pci::{CSpaceAccessMethod, PortOps};\n","file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/pci_impl.rs (original lines from 9 to 9)\n-pub const PCI_COMMAND_INTX_DISABLE:u16 = 0x400;\n+pub const PCI_COMMAND_INTX_DISABLE: u16 = 0x400;\n"]}},{"file":"(virtual) clippy","count":1,"kinds":{"Cargo":["// pkg_name=e1000-driver, checker=Clippy\n// toolchain=nightly-2023-02-23, target=riscv64imac-unknown-none-elf\n// pkg_dir=/home/runner/check/repos-default/elliott10/e1000-driver\n// cmd=cargo clippy --target riscv64imac-unknown-none-elf --no-deps --message-format=json\n    Updating crates.io index\n    Checking log v0.4.22\n    Checking volatile v0.3.0\n    Checking e1000-driver v0.2.0 (/home/runner/check/repos-default/elliott10/e1000-driver)\nerror: could not compile `e1000-driver` due to 2 previous errors; 9 warnings emitted\n"]}},{"file":"examples/src/boot/mod.rs","count":1,"kinds":{"Unformatted":["file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/boot/mod.rs (original lines from 17 to 17)\n-\n"]}},{"file":"examples/src/e1000.rs","count":1,"kinds":{"Unformatted":["file: /home/runner/check/repos-default/elliott10/e1000-driver/examples/src/e1000.rs (original lines from 126 to 126)\n+\n"]}},{"file":"src/e1000/e1000_const.rs","count":1,"kinds":{"Clippy(Error)":["error: this operation will always return zero. This is likely not the intended outcome\n --> src/e1000/e1000_const.rs:5:37\n  |\n5 | pub(crate) const E1000_CTL: usize = 0x00000 / 4; /* Device Control Register - RW */\n  |                                     ^^^^^^^^^^^\n  |\n  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#erasing_op\n  = note: `#[deny(clippy::erasing_op)]` on by default\n\n"]}},{"file":"src/e1000/mod.rs","count":1,"kinds":{"Clippy(Warn)":["warning: module has the same name as its containing module\n --> src/e1000/mod.rs:1:1\n  |\n1 | mod e1000;\n  | ^^^^^^^^^^\n  |\n  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#module_inception\n  = note: `#[warn(clippy::module_inception)]` on by default\n\n"]}}]}],"kinds_order":["Cargo","Clippy(Error)","Clippy(Warn)","Lockbud(Probably)","Lockbud(Possibly)","Unformatted"]}