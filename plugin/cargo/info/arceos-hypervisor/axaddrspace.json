{
  "user": "arceos-hypervisor",
  "repo": "axaddrspace",
  "timestamp": {
    "start": 1762529798598,
    "end": 1762565118473
  },
  "pkgs": {
    "axaddrspace": {
      "version": "0.1.2",
      "dependencies": 16,
      "lib": true,
      "bin": false,
      "testcases": {
        "tests": [
          {
            "id": "axaddrspace",
            "kind": "lib",
            "binary_name": "axaddrspace",
            "testcases": [
              {
                "name": "address_space::tests::test_addrspace_creation",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "Preparing a sysroot for Miri (target: x86_64-unknown-linux-gnu)... done\n   Compiling rustversion v1.0.22\n   Compiling proc-macro2 v1.0.103\n   Compiling quote v1.0.42\n   Compiling bit_field v0.10.3\n   Compiling equivalent v1.0.2\n   Compiling hashbrown v0.16.0\n   Compiling unicode-ident v1.0.22\n   Compiling winnow v0.7.13\n   Compiling indexmap v2.12.0\n   Compiling volatile v0.4.6\n   Compiling toml_datetime v0.7.3\n   Compiling bitflags v2.10.0\n   Compiling memory_addr v0.4.0\n   Compiling bitflags v1.3.2\n   Compiling x86 v0.52.0\n   Compiling raw-cpuid v10.7.0\n   Compiling x86_64 v0.15.2\n   Compiling log v0.4.28\n   Compiling axerrno v0.1.0\n   Compiling toml_parser v1.0.4\n   Compiling scopeguard v1.2.0\n   Compiling lock_api v0.4.14\n   Compiling syn v2.0.109\n   Compiling toml_edit v0.23.7\n   Compiling page_table_entry v0.5.5\n   Compiling spin v0.10.0\n   Compiling proc-macro-crate v3.4.0\n   Compiling page_table_multiarch v0.5.5\n   Compiling memory_set v0.4.0\n   Compiling assert_matches v1.5.0\n   Compiling lazyinit v0.2.2\n   Compiling lazy_static v1.5.0\n   Compiling numeric-enum-macro v0.2.0\n   Compiling cfg-if v1.0.4\n   Compiling axin v0.1.0\n   Compiling axaddrspace v0.1.2 (/tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace)\n    Finished `test` profile [unoptimized + debuginfo] target(s) in 5.40s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:289:40\n    |\n289 |         let (addr_space, base, size) = setup_test_addr_space();\n    |                                        ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:284:5: 284:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:284:5: 284:70}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_addrspace_creation`\n   --> src/address_space/mod.rs:284:5\n    |\n284 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:288:33\n    |\n283 |     #[test]\n    |     ------- in this procedural macro expansion\n...\n288 |     fn test_addrspace_creation() {\n    |                                 ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:289:40\n    |\n289 |         let (addr_space, base, size) = setup_test_addr_space();\n    |                                        ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:284:5: 284:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:284:5: 284:70}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_addrspace_creation`\n   --> src/address_space/mod.rs:284:5\n    |\n284 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:288:33\n    |\n283 |     #[test]\n    |     ------- in this procedural macro expansion\n...\n288 |     fn test_addrspace_creation() {\n    |                                 ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_addrspace_creation'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_clear",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:453:46\n    |\n453 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:451:5: 451:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:451:5: 451:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_clear`\n   --> src/address_space/mod.rs:451:5\n    |\n451 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:452:20\n    |\n450 |     #[test]\n    |     ------- in this procedural macro expansion\n451 |     #[axin(decorator(mock_hal_test))]\n452 |     fn test_clear() {\n    |                    ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:453:46\n    |\n453 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:451:5: 451:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:451:5: 451:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_clear`\n   --> src/address_space/mod.rs:451:5\n    |\n451 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:452:20\n    |\n450 |     #[test]\n    |     ------- in this procedural macro expansion\n451 |     #[axin(decorator(mock_hal_test))]\n452 |     fn test_clear() {\n    |                    ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_clear'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_contains_range",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:299:40\n    |\n299 |         let (addr_space, base, size) = setup_test_addr_space();\n    |                                        ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:297:5: 297:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:297:5: 297:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_contains_range`\n   --> src/address_space/mod.rs:297:5\n    |\n297 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:298:29\n    |\n296 |     #[test]\n    |     ------- in this procedural macro expansion\n297 |     #[axin(decorator(mock_hal_test))]\n298 |     fn test_contains_range() {\n    |                             ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:299:40\n    |\n299 |         let (addr_space, base, size) = setup_test_addr_space();\n    |                                        ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:297:5: 297:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:297:5: 297:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_contains_range`\n   --> src/address_space/mod.rs:297:5\n    |\n297 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:298:29\n    |\n296 |     #[test]\n    |     ------- in this procedural macro expansion\n297 |     #[axin(decorator(mock_hal_test))]\n298 |     fn test_contains_range() {\n    |                             ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_contains_range'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_map_alloc_lazy",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:371:46\n    |\n371 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:369:5: 369:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:369:5: 369:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_map_alloc_lazy`\n   --> src/address_space/mod.rs:369:5\n    |\n369 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:370:29\n    |\n368 |     #[test]\n    |     ------- in this procedural macro expansion\n369 |     #[axin(decorator(mock_hal_test))]\n370 |     fn test_map_alloc_lazy() {\n    |                             ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:371:46\n    |\n371 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:369:5: 369:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:369:5: 369:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_map_alloc_lazy`\n   --> src/address_space/mod.rs:369:5\n    |\n369 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:370:29\n    |\n368 |     #[test]\n    |     ------- in this procedural macro expansion\n369 |     #[axin(decorator(mock_hal_test))]\n370 |     fn test_map_alloc_lazy() {\n    |                             ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_map_alloc_lazy'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_map_alloc_populate",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:338:46\n    |\n338 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:336:5: 336:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:336:5: 336:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_map_alloc_populate`\n   --> src/address_space/mod.rs:336:5\n    |\n336 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:337:33\n    |\n335 |     #[test]\n    |     ------- in this procedural macro expansion\n336 |     #[axin(decorator(mock_hal_test))]\n337 |     fn test_map_alloc_populate() {\n    |                                 ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:338:46\n    |\n338 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:336:5: 336:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:336:5: 336:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_map_alloc_populate`\n   --> src/address_space/mod.rs:336:5\n    |\n336 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:337:33\n    |\n335 |     #[test]\n    |     ------- in this procedural macro expansion\n336 |     #[axin(decorator(mock_hal_test))]\n337 |     fn test_map_alloc_populate() {\n    |                                 ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_map_alloc_populate'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_map_linear",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:318:46\n    |\n318 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:316:5: 316:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:316:5: 316:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_map_linear`\n   --> src/address_space/mod.rs:316:5\n    |\n316 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:317:25\n    |\n315 |     #[test]\n    |     ------- in this procedural macro expansion\n316 |     #[axin(decorator(mock_hal_test))]\n317 |     fn test_map_linear() {\n    |                         ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:318:46\n    |\n318 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:316:5: 316:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:316:5: 316:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_map_linear`\n   --> src/address_space/mod.rs:316:5\n    |\n316 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:317:25\n    |\n315 |     #[test]\n    |     ------- in this procedural macro expansion\n316 |     #[axin(decorator(mock_hal_test))]\n317 |     fn test_map_linear() {\n    |                         ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_map_linear'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_page_fault_handling",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:392:46\n    |\n392 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:390:5: 390:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:390:5: 390:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_page_fault_handling`\n   --> src/address_space/mod.rs:390:5\n    |\n390 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:391:34\n    |\n389 |     #[test]\n    |     ------- in this procedural macro expansion\n390 |     #[axin(decorator(mock_hal_test))]\n391 |     fn test_page_fault_handling() {\n    |                                  ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:392:46\n    |\n392 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:390:5: 390:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:390:5: 390:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_page_fault_handling`\n   --> src/address_space/mod.rs:390:5\n    |\n390 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:391:34\n    |\n389 |     #[test]\n    |     ------- in this procedural macro expansion\n390 |     #[axin(decorator(mock_hal_test))]\n391 |     fn test_page_fault_handling() {\n    |                                  ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_page_fault_handling'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_translate",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:488:46\n    |\n488 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:486:5: 486:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:486:5: 486:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_translate`\n   --> src/address_space/mod.rs:486:5\n    |\n486 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:487:24\n    |\n485 |     #[test]\n    |     ------- in this procedural macro expansion\n486 |     #[axin(decorator(mock_hal_test))]\n487 |     fn test_translate() {\n    |                        ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:488:46\n    |\n488 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:486:5: 486:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:486:5: 486:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_translate`\n   --> src/address_space/mod.rs:486:5\n    |\n486 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:487:24\n    |\n485 |     #[test]\n    |     ------- in this procedural macro expansion\n486 |     #[axin(decorator(mock_hal_test))]\n487 |     fn test_translate() {\n    |                        ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_translate'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_translate_and_get_limit",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:565:46\n    |\n565 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:563:5: 563:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:563:5: 563:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_translate_and_get_limit`\n   --> src/address_space/mod.rs:563:5\n    |\n563 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:564:38\n    |\n562 |     #[test]\n    |     ------- in this procedural macro expansion\n563 |     #[axin(decorator(mock_hal_test))]\n564 |     fn test_translate_and_get_limit() {\n    |                                      ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:565:46\n    |\n565 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:563:5: 563:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:563:5: 563:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_translate_and_get_limit`\n   --> src/address_space/mod.rs:563:5\n    |\n563 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:564:38\n    |\n562 |     #[test]\n    |     ------- in this procedural macro expansion\n563 |     #[axin(decorator(mock_hal_test))]\n564 |     fn test_translate_and_get_limit() {\n    |                                      ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_translate_and_get_limit'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_translated_byte_buffer",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:515:46\n    |\n515 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:513:5: 513:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:513:5: 513:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_translated_byte_buffer`\n   --> src/address_space/mod.rs:513:5\n    |\n513 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:514:37\n    |\n512 |     #[test]\n    |     ------- in this procedural macro expansion\n513 |     #[axin(decorator(mock_hal_test))]\n514 |     fn test_translated_byte_buffer() {\n    |                                     ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:515:46\n    |\n515 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:513:5: 513:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:513:5: 513:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_translated_byte_buffer`\n   --> src/address_space/mod.rs:513:5\n    |\n513 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:514:37\n    |\n512 |     #[test]\n    |     ------- in this procedural macro expansion\n513 |     #[axin(decorator(mock_hal_test))]\n514 |     fn test_translated_byte_buffer() {\n    |                                     ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_translated_byte_buffer'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "address_space::tests::test_unmap",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:361:23: 361:58\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:422:46\n    |\n422 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:420:5: 420:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:420:5: 420:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_unmap`\n   --> src/address_space/mod.rs:420:5\n    |\n420 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:421:20\n    |\n419 |     #[test]\n    |     ------- in this procedural macro expansion\n420 |     #[axin(decorator(mock_hal_test))]\n421 |     fn test_unmap() {\n    |                    ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22\n    |\n362 |             unsafe { core::ptr::write_bytes(ptr, 0, PAGE_SIZE_4K) };\n    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                      |\n    |                      attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                      this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `address_space::`:\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::alloc_table` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:362:22: 362:66\n    = note: inside `page_table_multiarch::PageTable64::<npt::arch::x86_64::ExtendedPageTableMetadata, npt::arch::x86_64::EPTEntry, test_utils::MockHal>::try_new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/page_table_multiarch-0.5.5/src/bits64.rs:40:26: 40:45\nnote: inside `address_space::AddrSpace::<test_utils::MockHal>::new_empty`\n   --> src/address_space/mod.rs:61:17\n    |\n61  |             pt: PageTable::try_new().map_err(|_| AxError::NoMemory)?,\n    |                 ^^^^^^^^^^^^^^^^^^^^\nnote: inside `address_space::tests::setup_test_addr_space`\n   --> src/address_space/mod.rs:279:26\n    |\n279 |         let addr_space = AddrSpace::<MockHal>::new_empty(BASE, SIZE).unwrap();\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:422:46\n    |\n422 |         let (mut addr_space, _base, _size) = setup_test_addr_space();\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/address_space/mod.rs:420:5: 420:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/address_space/mod.rs:420:5: 420:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `address_space::tests::test_unmap`\n   --> src/address_space/mod.rs:420:5\n    |\n420 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/address_space/mod.rs:421:20\n    |\n419 |     #[test]\n    |     ------- in this procedural macro expansion\n420 |     #[axin(decorator(mock_hal_test))]\n421 |     fn test_unmap() {\n    |                    ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'address_space::tests::test_unmap'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "frame::test::test_alloc_dealloc_cycle",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "frame::test::test_alloc_no_memory",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "frame::test::test_alloc_zero",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `frame::test::te`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::as_mut_ptr`\n   --> src/frame.rs:58:9\n    |\n58  |         H::phys_to_virt(self.start_paddr()).as_mut_ptr()\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::fill`\n   --> src/frame.rs:63:41\n    |\n63  |         unsafe { core::ptr::write_bytes(self.as_mut_ptr(), byte, PAGE_SIZE) }\n    |                                         ^^^^^^^^^^^^^^^^^\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::alloc_zero`\n   --> src/frame.rs:34:9\n    |\n34  |         f.fill(0);\n    |         ^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:96:21\n    |\n96  |         let frame = PhysFrame::<MockHal>::alloc_zero()\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/frame.rs:94:5: 94:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/frame.rs:94:5: 94:70}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `frame::test::test_alloc_zero`\n   --> src/frame.rs:94:5\n    |\n94  |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:95:25\n    |\n93  |     #[test]\n    |     ------- in this procedural macro expansion\n94  |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n95  |     fn test_alloc_zero() {\n    |                         ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n  --> src/frame.rs:63:18\n   |\n63 |         unsafe { core::ptr::write_bytes(self.as_mut_ptr(), byte, PAGE_SIZE) }\n   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   |                  |\n   |                  attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   |                  this error occurs as part of an access at alloc262[0x1000..0x2000]\n   |\n   = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n   = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n   = note: BACKTRACE on thread `frame::test::te`:\n   = note: inside `frame::PhysFrame::<test_utils::MockHal>::fill` at src/frame.rs:63:18: 63:76\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::alloc_zero`\n  --> src/frame.rs:34:9\n   |\n34 |         f.fill(0);\n   |         ^^^^^^^^^\nnote: inside closure\n  --> src/frame.rs:96:21\n   |\n96 |         let frame = PhysFrame::<MockHal>::alloc_zero()\n   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   = note: inside `<{closure@src/frame.rs:94:5: 94:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/frame.rs:94:5: 94:70}, ()>`\n  --> src/test_utils/mod.rs:95:5\n   |\n95 |     test_fn()\n   |     ^^^^^^^^^\nnote: inside `frame::test::test_alloc_zero`\n  --> src/frame.rs:94:5\n   |\n94 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n  --> src/frame.rs:95:25\n   |\n93 |     #[test]\n   |     ------- in this procedural macro expansion\n94 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n95 |     fn test_alloc_zero() {\n   |                         ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'frame::test::test_alloc_zero'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "frame::test::test_fill_multiple_frames",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `frame::test::te`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::as_mut_ptr`\n   --> src/frame.rs:58:9\n    |\n58  |         H::phys_to_virt(self.start_paddr()).as_mut_ptr()\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::fill`\n   --> src/frame.rs:63:41\n    |\n63  |         unsafe { core::ptr::write_bytes(self.as_mut_ptr(), byte, PAGE_SIZE) }\n    |                                         ^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:127:13\n    |\n127 |             frame.fill(pattern);\n    |             ^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/frame.rs:117:5: 117:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/frame.rs:117:5: 117:70}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `frame::test::test_fill_multiple_frames`\n   --> src/frame.rs:117:5\n    |\n117 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(5)))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:118:35\n    |\n116 |     #[test]\n    |     ------- in this procedural macro expansion\n117 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(5)))]\n118 |     fn test_fill_multiple_frames() {\n    |                                   ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> src/frame.rs:63:18\n    |\n63  |         unsafe { core::ptr::write_bytes(self.as_mut_ptr(), byte, PAGE_SIZE) }\n    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                  |\n    |                  attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                  this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `frame::test::te`:\n    = note: inside `frame::PhysFrame::<test_utils::MockHal>::fill` at src/frame.rs:63:18: 63:76\nnote: inside closure\n   --> src/frame.rs:127:13\n    |\n127 |             frame.fill(pattern);\n    |             ^^^^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/frame.rs:117:5: 117:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/frame.rs:117:5: 117:70}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `frame::test::test_fill_multiple_frames`\n   --> src/frame.rs:117:5\n    |\n117 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(5)))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:118:35\n    |\n116 |     #[test]\n    |     ------- in this procedural macro expansion\n117 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(5)))]\n118 |     fn test_fill_multiple_frames() {\n    |                                   ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'frame::test::test_fill_multiple_frames'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "frame::test::test_fill_operation",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9\n    |\n491 |         self.0 as *mut u8\n    |         ^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `frame::test::te`:\n    = note: inside `memory_addr::VirtAddr::as_mut_ptr` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/memory_addr-0.4.0/src/addr.rs:491:9: 491:26\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::as_mut_ptr`\n   --> src/frame.rs:58:9\n    |\n58  |         H::phys_to_virt(self.start_paddr()).as_mut_ptr()\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside `frame::PhysFrame::<test_utils::MockHal>::fill`\n   --> src/frame.rs:63:41\n    |\n63  |         unsafe { core::ptr::write_bytes(self.as_mut_ptr(), byte, PAGE_SIZE) }\n    |                                         ^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:110:9\n    |\n110 |         frame.fill(0xAA);\n    |         ^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/frame.rs:105:5: 105:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/frame.rs:105:5: 105:70}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `frame::test::test_fill_operation`\n   --> src/frame.rs:105:5\n    |\n105 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:106:29\n    |\n104 |     #[test]\n    |     ------- in this procedural macro expansion\n105 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n106 |     fn test_fill_operation() {\n    |                             ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> src/frame.rs:63:18\n    |\n63  |         unsafe { core::ptr::write_bytes(self.as_mut_ptr(), byte, PAGE_SIZE) }\n    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                  |\n    |                  attempting a write access using <wildcard> at alloc262[0x1000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                  this error occurs as part of an access at alloc262[0x1000..0x2000]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `frame::test::te`:\n    = note: inside `frame::PhysFrame::<test_utils::MockHal>::fill` at src/frame.rs:63:18: 63:76\nnote: inside closure\n   --> src/frame.rs:110:9\n    |\n110 |         frame.fill(0xAA);\n    |         ^^^^^^^^^^^^^^^^\n    = note: inside `<{closure@src/frame.rs:105:5: 105:70} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/frame.rs:105:5: 105:70}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `frame::test::test_fill_operation`\n   --> src/frame.rs:105:5\n    |\n105 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/frame.rs:106:29\n    |\n104 |     #[test]\n    |     ------- in this procedural macro expansion\n105 |     #[axin(decorator(mock_hal_test), on_exit(test_dealloc_count(1)))]\n106 |     fn test_fill_operation() {\n    |                             ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'frame::test::test_fill_operation'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "frame::test::test_uninit_access",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "memory_accessor::tests::test_basic_read_write_operations",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> src/memory_accessor.rs:74:23\n    |\n74  |             let ptr = host_addr.as_usize() as *mut V;\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_obj::<u32>` at src/memory_accessor.rs:74:23: 74:53\nnote: inside closure\n   --> src/memory_accessor.rs:237:9\n    |\n237 | /         translator\n238 | |             .write_obj(test_addr, test_value)\n    | |_____________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:227:5: 227:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:227:5: 227:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_basic_read_write_operations`\n   --> src/memory_accessor.rs:227:5\n    |\n227 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:228:42\n    |\n226 |     #[test]\n    |     ------- in this procedural macro expansion\n227 |     #[axin(decorator(mock_hal_test))]\n228 |     fn test_basic_read_write_operations() {\n    |                                          ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1100], but no exposed tags have suitable permission in the borrow stack for this location\n   --> src/memory_accessor.rs:75:13\n    |\n75  |             core::ptr::write_volatile(ptr, val);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |             |\n    |             attempting a write access using <wildcard> at alloc262[0x1100], but no exposed tags have suitable permission in the borrow stack for this location\n    |             this error occurs as part of an access at alloc262[0x1100..0x1104]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_obj::<u32>` at src/memory_accessor.rs:75:13: 75:48\nnote: inside closure\n   --> src/memory_accessor.rs:237:9\n    |\n237 | /         translator\n238 | |             .write_obj(test_addr, test_value)\n    | |_____________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:227:5: 227:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:227:5: 227:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_basic_read_write_operations`\n   --> src/memory_accessor.rs:227:5\n    |\n227 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:228:42\n    |\n226 |     #[test]\n    |     ------- in this procedural macro expansion\n227 |     #[axin(decorator(mock_hal_test))]\n228 |     fn test_basic_read_write_operations() {\n    |                                          ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'memory_accessor::tests::test_basic_read_write_operations'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "memory_accessor::tests::test_cross_page_access",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> src/memory_accessor.rs:144:31\n    |\n144 |                 let dst_ptr = host_addr.as_usize() as *mut u8;\n    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_buffer` at src/memory_accessor.rs:144:31: 144:62\nnote: inside closure\n   --> src/memory_accessor.rs:383:9\n    |\n383 | /         translator\n384 | |             .write_buffer(cross_region_addr, &test_data)\n    | |________________________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:369:5: 369:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:369:5: 369:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_cross_page_access`\n   --> src/memory_accessor.rs:369:5\n    |\n369 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:370:32\n    |\n368 |     #[test]\n    |     ------- in this procedural macro expansion\n369 |     #[axin(decorator(mock_hal_test))]\n370 |     fn test_cross_page_access() {\n    |                                ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1ff8], but no exposed tags have suitable permission in the borrow stack for this location\n   --> src/memory_accessor.rs:145:17\n    |\n145 |                 core::ptr::copy_nonoverlapping(buffer.as_ptr(), dst_ptr, buffer.len());\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                 |\n    |                 attempting a write access using <wildcard> at alloc262[0x1ff8], but no exposed tags have suitable permission in the borrow stack for this location\n    |                 this error occurs as part of an access at alloc262[0x1ff8..0x2008]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_buffer` at src/memory_accessor.rs:145:17: 145:87\nnote: inside closure\n   --> src/memory_accessor.rs:383:9\n    |\n383 | /         translator\n384 | |             .write_buffer(cross_region_addr, &test_data)\n    | |________________________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:369:5: 369:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:369:5: 369:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_cross_page_access`\n   --> src/memory_accessor.rs:369:5\n    |\n369 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:370:32\n    |\n368 |     #[test]\n    |     ------- in this procedural macro expansion\n369 |     #[axin(decorator(mock_hal_test))]\n370 |     fn test_cross_page_access() {\n    |                                ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'memory_accessor::tests::test_cross_page_access'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "memory_accessor::tests::test_region_boundary_edge_cases",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> src/memory_accessor.rs:144:31\n    |\n144 |                 let dst_ptr = host_addr.as_usize() as *mut u8;\n    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_buffer` at src/memory_accessor.rs:144:31: 144:62\nnote: inside closure\n   --> src/memory_accessor.rs:421:9\n    |\n421 | /         translator\n422 | |             .write_buffer(boundary_addr, &boundary_data)\n    | |________________________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:413:5: 413:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:413:5: 413:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_region_boundary_edge_cases`\n   --> src/memory_accessor.rs:413:5\n    |\n413 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:414:41\n    |\n412 |     #[test]\n    |     ------- in this procedural macro expansion\n413 |     #[axin(decorator(mock_hal_test))]\n414 |     fn test_region_boundary_edge_cases() {\n    |                                         ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x2000], but no exposed tags have suitable permission in the borrow stack for this location\n   --> src/memory_accessor.rs:145:17\n    |\n145 |                 core::ptr::copy_nonoverlapping(buffer.as_ptr(), dst_ptr, buffer.len());\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |                 |\n    |                 attempting a write access using <wildcard> at alloc262[0x2000], but no exposed tags have suitable permission in the borrow stack for this location\n    |                 this error occurs as part of an access at alloc262[0x2000..0x2004]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_buffer` at src/memory_accessor.rs:145:17: 145:87\nnote: inside closure\n   --> src/memory_accessor.rs:421:9\n    |\n421 | /         translator\n422 | |             .write_buffer(boundary_addr, &boundary_data)\n    | |________________________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:413:5: 413:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:413:5: 413:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_region_boundary_edge_cases`\n   --> src/memory_accessor.rs:413:5\n    |\n413 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:414:41\n    |\n412 |     #[test]\n    |     ------- in this procedural macro expansion\n413 |     #[axin(decorator(mock_hal_test))]\n414 |     fn test_region_boundary_edge_cases() {\n    |                                         ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'memory_accessor::tests::test_region_boundary_edge_cases'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "memory_accessor::tests::test_two_vm_isolation",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.02s\n     Running unittests src/lib.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36)\nwarning: unused variable: `vaddr`\n   --> src/npt/arch/x86_64.rs:179:18\n    |\n179 |     fn flush_tlb(vaddr: Option<GuestPhysAddr>) {\n    |                  ^^^^^ help: if this is intentional, prefix it with an underscore: `_vaddr`\n    |\n    = note: `#[warn(unused_variables)]` on by default\n\nwarning: integer-to-pointer cast\n   --> src/memory_accessor.rs:74:23\n    |\n74  |             let ptr = host_addr.as_usize() as *mut V;\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_obj::<u64>` at src/memory_accessor.rs:74:23: 74:53\nnote: inside closure\n   --> src/memory_accessor.rs:297:9\n    |\n297 | /         vm1_translator\n298 | |             .write_obj(guest_addr, vm1_data)\n    | |____________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:281:5: 281:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:281:5: 281:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_two_vm_isolation`\n   --> src/memory_accessor.rs:281:5\n    |\n281 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:282:31\n    |\n280 |     #[test]\n    |     ------- in this procedural macro expansion\n281 |     #[axin(decorator(mock_hal_test))]\n282 |     fn test_two_vm_isolation() {\n    |                               ^\n\nerror: Undefined Behavior: attempting a write access using <wildcard> at alloc262[0x1100], but no exposed tags have suitable permission in the borrow stack for this location\n   --> src/memory_accessor.rs:75:13\n    |\n75  |             core::ptr::write_volatile(ptr, val);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |             |\n    |             attempting a write access using <wildcard> at alloc262[0x1100], but no exposed tags have suitable permission in the borrow stack for this location\n    |             this error occurs as part of an access at alloc262[0x1100..0x1108]\n    |\n    = help: this indicates a potential bug in the program: it performed an invalid operation, but the Stacked Borrows rules it violated are still experimental\n    = help: see https://github.com/rust-lang/unsafe-code-guidelines/blob/master/wip/stacked-borrows.md for further information\n    = note: BACKTRACE on thread `memory_accessor`:\n    = note: inside `<memory_accessor::tests::MockTranslator as memory_accessor::GuestMemoryAccessor>::write_obj::<u64>` at src/memory_accessor.rs:75:13: 75:48\nnote: inside closure\n   --> src/memory_accessor.rs:297:9\n    |\n297 | /         vm1_translator\n298 | |             .write_obj(guest_addr, vm1_data)\n    | |____________________________________________^\n    = note: inside `<{closure@src/memory_accessor.rs:281:5: 281:38} as core::ops::FnOnce<()>>::call_once - shim` at /home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5: 250:71\nnote: inside `test_utils::mock_hal_test::<{closure@src/memory_accessor.rs:281:5: 281:38}, ()>`\n   --> src/test_utils/mod.rs:95:5\n    |\n95  |     test_fn()\n    |     ^^^^^^^^^\nnote: inside `memory_accessor::tests::test_two_vm_isolation`\n   --> src/memory_accessor.rs:281:5\n    |\n281 |     #[axin(decorator(mock_hal_test))]\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> src/memory_accessor.rs:282:31\n    |\n280 |     #[test]\n    |     ------- in this procedural macro expansion\n281 |     #[axin(decorator(mock_hal_test))]\n282 |     fn test_two_vm_isolation() {\n    |                               ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p axaddrspace --lib`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-2025-05-20-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/arceos-hypervisor/axaddrspace/target/miri/x86_64-unknown-linux-gnu/debug/deps/axaddrspace-17ee5c4d0ef1ec36 axaddrspace 'memory_accessor::tests::test_two_vm_isolation'` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --nocapture to the harness.\n",
                "miri_timeout": false
              }
            ],
            "failed": 0,
            "duration_ms": 80
          }
        ],
        "failed": 0,
        "duration_ms": 80,
        "pkg_tests_count": 21,
        "workspace_tests_count": 21
      },
      "tests": 0,
      "examples": 0,
      "benches": 0,
      "authors": [
        "KeYang Hu <keyang.hu@qq.com>",
        "Mingxian Su <aarkegz@gmail.com>",
        "DeBin Luo <luodeb@outlook.com>"
      ],
      "description": "ArceOS-Hypervisor guest address space management module",
      "documentation": null,
      "readme": "README.md",
      "homepage": null,
      "keywords": [
        "hypervisor",
        "address-space"
      ],
      "categories": [
        "embedded",
        "no-std"
      ],
      "rust_version": null,
      "diag_total_count": 20,
      "last_commit_time": "2025-09-16T14:50:21Z",
      "release_count": 3,
      "last_release_size": 24888,
      "last_release_time": "2025-09-16T14:54:19Z"
    }
  }
}