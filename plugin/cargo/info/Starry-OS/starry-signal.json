{
  "user": "Starry-OS",
  "repo": "starry-signal",
  "timestamp": {
    "start": 1766023361146,
    "end": 1766109882359
  },
  "pkgs": {
    "starry-signal": {
      "version": "0.2.3",
      "dependencies": 11,
      "lib": true,
      "bin": false,
      "testcases": {
        "tests": [
          {
            "id": "starry-signal::action",
            "kind": "test",
            "binary_name": "action",
            "testcases": [
              {
                "name": "convert",
                "status": "ok",
                "duration_ms": 5,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "flags_bits",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              }
            ],
            "failed": 0,
            "duration_ms": 9
          },
          {
            "id": "starry-signal::api_process",
            "kind": "test",
            "binary_name": "api_process",
            "testcases": [
              {
                "name": "can_restart",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "send_wakes_sets_pending",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "signal_ignore",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              }
            ],
            "failed": 0,
            "duration_ms": 12
          },
          {
            "id": "starry-signal::api_thread",
            "kind": "test",
            "binary_name": "api_thread",
            "testcases": [
              {
                "name": "block_ignore_send_signal",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "check_signals",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "dequeue_signal",
                "status": "ok",
                "duration_ms": 5,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "handle_signal",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.03s\n     Running tests/api_thread.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/api_thread-2c9a1360edf2627e)\nwarning: the feature `maybe_uninit_write_slice` has been stable since 1.94.0-nightly and no longer requires an attribute to enable\n --> tests/api_thread.rs:1:12\n  |\n1 | #![feature(maybe_uninit_write_slice)]\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^\n  |\n  = note: `#[warn(stable_features)]` on by default\n\nwarning: integer-to-pointer cast\n   --> src/api/thread.rs:98:33\n    |\n 98 |                 let frame_ptr = aligned_sp as *mut SignalFrame;\n    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `handle_signal`:\n    = note: inside `starry_signal::api::ThreadSignalManager::handle_signal` at src/api/thread.rs:98:33: 98:63\nnote: inside `handle_signal`\n   --> tests/api_thread.rs:104:18\n    |\n104 |       let result = env\n    |  __________________^\n105 | |         .thr\n106 | |         .handle_signal(&mut uctx, restore_blocked, &sig, &action);\n    | |_________________________________________________________________^\nnote: inside closure\n   --> tests/api_thread.rs:88:19\n    |\n 87 | #[test]\n    | ------- in this attribute macro expansion\n 88 | fn handle_signal() {\n    |                   ^\n\nerror: Undefined Behavior: calling a function with return type Vm passing return place of type starry_vm::VmImpl\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:48:1\n    |\n 48 | #[extern_trait(VmImpl)]\n    | ^^^^^^^^^^^^^^^^^^^^^^^ Undefined Behavior occurred here\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n    = help: this means these two types are not *guaranteed* to be ABI-compatible across all targets\n    = help: if you think this code should be accepted anyway, please report an issue with Miri\n    = note: BACKTRACE on thread `handle_signal`:\n    = note: inside `<starry_vm::VmImpl as starry_vm::VmIo>::new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:48:1: 48:24\n    = note: inside `starry_vm::vm_write_slice::<starry_signal::api::thread::SignalFrame>` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:80:5: 80:18\n    = note: inside `<*mut starry_signal::api::thread::SignalFrame as starry_vm::VmMutPtr>::vm_write` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/thin.rs:72:9: 72:74\nnote: inside `starry_signal::api::ThreadSignalManager::handle_signal`\n   --> src/api/thread.rs:99:20\n    |\n 99 |                   if frame_ptr\n    |  ____________________^\n100 | |                     .vm_write(SignalFrame {\n101 | |                         ucontext: UContext::new(uctx, restore_blocked),\n102 | |                         siginfo: sig.clone(),\n103 | |                         uctx: *uctx,\n104 | |                     })\n    | |______________________^\nnote: inside `handle_signal`\n   --> tests/api_thread.rs:104:18\n    |\n104 |       let result = env\n    |  __________________^\n105 | |         .thr\n106 | |         .handle_signal(&mut uctx, restore_blocked, &sig, &action);\n    | |_________________________________________________________________^\nnote: inside closure\n   --> tests/api_thread.rs:88:19\n    |\n 87 | #[test]\n    | ------- in this attribute macro expansion\n 88 | fn handle_signal() {\n    |                   ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p starry-signal --test api_thread`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/Starry-OS/starry-signal/target/miri/x86_64-unknown-linux-gnu/debug/deps/api_thread-2c9a1360edf2627e handle_signal` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --no-capture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "restore",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.03s\n     Running tests/api_thread.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/api_thread-2c9a1360edf2627e)\nwarning: the feature `maybe_uninit_write_slice` has been stable since 1.94.0-nightly and no longer requires an attribute to enable\n --> tests/api_thread.rs:1:12\n  |\n1 | #![feature(maybe_uninit_write_slice)]\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^\n  |\n  = note: `#[warn(stable_features)]` on by default\n\nwarning: integer-to-pointer cast\n   --> src/api/thread.rs:98:33\n    |\n 98 |                 let frame_ptr = aligned_sp as *mut SignalFrame;\n    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `restore`:\n    = note: inside `starry_signal::api::ThreadSignalManager::handle_signal` at src/api/thread.rs:98:33: 98:63\nnote: inside `restore`\n   --> tests/api_thread.rs:169:5\n    |\n169 | /     env.thr\n170 | |         .handle_signal(&mut uctx_user, restore_blocked, &sig, &action);\n    | |______________________________________________________________________^\nnote: inside closure\n   --> tests/api_thread.rs:152:13\n    |\n151 | #[test]\n    | ------- in this attribute macro expansion\n152 | fn restore() {\n    |             ^\n\nerror: Undefined Behavior: calling a function with return type Vm passing return place of type starry_vm::VmImpl\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:48:1\n    |\n 48 | #[extern_trait(VmImpl)]\n    | ^^^^^^^^^^^^^^^^^^^^^^^ Undefined Behavior occurred here\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n    = help: this means these two types are not *guaranteed* to be ABI-compatible across all targets\n    = help: if you think this code should be accepted anyway, please report an issue with Miri\n    = note: BACKTRACE on thread `restore`:\n    = note: inside `<starry_vm::VmImpl as starry_vm::VmIo>::new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:48:1: 48:24\n    = note: inside `starry_vm::vm_write_slice::<starry_signal::api::thread::SignalFrame>` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:80:5: 80:18\n    = note: inside `<*mut starry_signal::api::thread::SignalFrame as starry_vm::VmMutPtr>::vm_write` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/thin.rs:72:9: 72:74\nnote: inside `starry_signal::api::ThreadSignalManager::handle_signal`\n   --> src/api/thread.rs:99:20\n    |\n 99 |                   if frame_ptr\n    |  ____________________^\n100 | |                     .vm_write(SignalFrame {\n101 | |                         ucontext: UContext::new(uctx, restore_blocked),\n102 | |                         siginfo: sig.clone(),\n103 | |                         uctx: *uctx,\n104 | |                     })\n    | |______________________^\nnote: inside `restore`\n   --> tests/api_thread.rs:169:5\n    |\n169 | /     env.thr\n170 | |         .handle_signal(&mut uctx_user, restore_blocked, &sig, &action);\n    | |______________________________________________________________________^\nnote: inside closure\n   --> tests/api_thread.rs:152:13\n    |\n151 | #[test]\n    | ------- in this attribute macro expansion\n152 | fn restore() {\n    |             ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p starry-signal --test api_thread`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/Starry-OS/starry-signal/target/miri/x86_64-unknown-linux-gnu/debug/deps/api_thread-2c9a1360edf2627e restore` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --no-capture to the harness.\n",
                "miri_timeout": false
              }
            ],
            "failed": 0,
            "duration_ms": 21
          },
          {
            "id": "starry-signal::multithread",
            "kind": "test",
            "binary_name": "multithread",
            "testcases": [
              {
                "name": "thread_blocked",
                "status": "ok",
                "duration_ms": 15,
                "error": null,
                "miri_pass": false,
                "miri_output": "   Compiling starry-signal v0.2.3 (/tmp/os-checker-plugin-cargo/Starry-OS/starry-signal)\n    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.25s\n     Running tests/multithread.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/multithread-4fc1ef4b1ff6e42c)\nwarning: the feature `maybe_uninit_write_slice` has been stable since 1.94.0-nightly and no longer requires an attribute to enable\n --> tests/multithread.rs:1:12\n  |\n1 | #![feature(maybe_uninit_write_slice)]\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^\n  |\n  = note: `#[warn(stable_features)]` on by default\n\nerror: Undefined Behavior: Data race detected between (1) retag write on thread `thread_blocked` and (2) retag write of type `starry_signal::PendingSignals` on thread `unnamed-2` at alloc47928+0x18\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/kspin-0.1.1/src/base.rs:97:28\n    |\n 97 |             data: unsafe { &mut *self.data.get() },\n    |                            ^^^^^^^^^^^^^^^^^^^^^ (2) just happened here\n    |\nhelp: and (1) occurred earlier here\n   --> src/api/thread.rs:253:9\n    |\n253 |         self.pending.lock().set | self.proc.pending()\n    |         ^^^^^^^^^^^^^^^^^^^\n    = help: retags occur on all (re)borrows and as well as when references are copied or moved\n    = help: retags permit optimizations that insert speculative reads or writes\n    = help: therefore from the perspective of data races, a retag has the same implications as a read or write\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n    = note: BACKTRACE (of the first span) on thread `unnamed-2`:\n    = note: inside `kspin::BaseSpinLock::<kernel_guard::NoOp, starry_signal::PendingSignals>::lock` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/kspin-0.1.1/src/base.rs:97:28: 97:49\nnote: inside `starry_signal::api::ThreadSignalManager::send_signal`\n   --> src/api/thread.rs:214:12\n    |\n214 |         if self.pending.lock().put_signal(sig) {\n    |            ^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> tests/multithread.rs:126:17\n    |\n126 |         let _ = thr.send_signal(sig);\n    |                 ^^^^^^^^^^^^^^^^^^^^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 1 warning emitted\n\nerror: test failed, to rerun pass `-p starry-signal --test multithread`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/Starry-OS/starry-signal/target/miri/x86_64-unknown-linux-gnu/debug/deps/multithread-4fc1ef4b1ff6e42c thread_blocked` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --no-capture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "thread_handler",
                "status": "ok",
                "duration_ms": 6,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.03s\n     Running tests/multithread.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/multithread-4fc1ef4b1ff6e42c)\nwarning: the feature `maybe_uninit_write_slice` has been stable since 1.94.0-nightly and no longer requires an attribute to enable\n --> tests/multithread.rs:1:12\n  |\n1 | #![feature(maybe_uninit_write_slice)]\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^\n  |\n  = note: `#[warn(stable_features)]` on by default\n\nwarning: integer-to-pointer cast\n   --> src/api/thread.rs:98:33\n    |\n 98 |                 let frame_ptr = aligned_sp as *mut SignalFrame;\n    |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer cast\n    |\n    = help: this program is using integer-to-pointer casts or (equivalently) `ptr::with_exposed_provenance`, which means that Miri might miss pointer bugs in this program\n    = help: see https://doc.rust-lang.org/nightly/std/ptr/fn.with_exposed_provenance.html for more details on that operation\n    = help: to ensure that Miri does not miss bugs in your program, use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = help: you can then set `MIRIFLAGS=-Zmiri-strict-provenance` to ensure you are not relying on `with_exposed_provenance` semantics\n    = help: alternatively, `MIRIFLAGS=-Zmiri-permissive-provenance` disables this warning\n    = note: BACKTRACE on thread `thread_handler`:\n    = note: inside `starry_signal::api::ThreadSignalManager::handle_signal` at src/api/thread.rs:98:33: 98:63\nnote: inside `starry_signal::api::ThreadSignalManager::check_signals_slow`\n   --> src/api/thread.rs:165:38\n    |\n165 |             if let Some(os_action) = self.handle_signal(uctx, restore_blocked, &sig, &action) {\n    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside `starry_signal::api::ThreadSignalManager::check_signals`\n   --> src/api/thread.rs:185:9\n    |\n185 |         self.check_signals_slow(uctx, restore_blocked)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside `thread_handler`\n   --> tests/multithread.rs:169:9\n    |\n169 |         env.thr.check_signals(&mut guard, None).unwrap()\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> tests/multithread.rs:152:20\n    |\n151 | #[test]\n    | ------- in this attribute macro expansion\n152 | fn thread_handler() {\n    |                    ^\n\nerror: Undefined Behavior: calling a function with return type Vm passing return place of type starry_vm::VmImpl\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:48:1\n    |\n 48 | #[extern_trait(VmImpl)]\n    | ^^^^^^^^^^^^^^^^^^^^^^^ Undefined Behavior occurred here\n    |\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n    = help: this means these two types are not *guaranteed* to be ABI-compatible across all targets\n    = help: if you think this code should be accepted anyway, please report an issue with Miri\n    = note: BACKTRACE on thread `thread_handler`:\n    = note: inside `<starry_vm::VmImpl as starry_vm::VmIo>::new` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:48:1: 48:24\n    = note: inside `starry_vm::vm_write_slice::<starry_signal::api::thread::SignalFrame>` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/lib.rs:80:5: 80:18\n    = note: inside `<*mut starry_signal::api::thread::SignalFrame as starry_vm::VmMutPtr>::vm_write` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/starry-vm-0.2.0/src/thin.rs:72:9: 72:74\nnote: inside `starry_signal::api::ThreadSignalManager::handle_signal`\n   --> src/api/thread.rs:99:20\n    |\n 99 |                   if frame_ptr\n    |  ____________________^\n100 | |                     .vm_write(SignalFrame {\n101 | |                         ucontext: UContext::new(uctx, restore_blocked),\n102 | |                         siginfo: sig.clone(),\n103 | |                         uctx: *uctx,\n104 | |                     })\n    | |______________________^\nnote: inside `starry_signal::api::ThreadSignalManager::check_signals_slow`\n   --> src/api/thread.rs:165:38\n    |\n165 |             if let Some(os_action) = self.handle_signal(uctx, restore_blocked, &sig, &action) {\n    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside `starry_signal::api::ThreadSignalManager::check_signals`\n   --> src/api/thread.rs:185:9\n    |\n185 |         self.check_signals_slow(uctx, restore_blocked)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside `thread_handler`\n   --> tests/multithread.rs:169:9\n    |\n169 |         env.thr.check_signals(&mut guard, None).unwrap()\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> tests/multithread.rs:152:20\n    |\n151 | #[test]\n    | ------- in this attribute macro expansion\n152 | fn thread_handler() {\n    |                    ^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 2 warnings emitted\n\nerror: test failed, to rerun pass `-p starry-signal --test multithread`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/Starry-OS/starry-signal/target/miri/x86_64-unknown-linux-gnu/debug/deps/multithread-4fc1ef4b1ff6e42c thread_handler` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --no-capture to the harness.\n",
                "miri_timeout": false
              },
              {
                "name": "thread_send_signal",
                "status": "ok",
                "duration_ms": 14,
                "error": null,
                "miri_pass": false,
                "miri_output": "    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.03s\n     Running tests/multithread.rs (target/miri/x86_64-unknown-linux-gnu/debug/deps/multithread-4fc1ef4b1ff6e42c)\nwarning: the feature `maybe_uninit_write_slice` has been stable since 1.94.0-nightly and no longer requires an attribute to enable\n --> tests/multithread.rs:1:12\n  |\n1 | #![feature(maybe_uninit_write_slice)]\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^\n  |\n  = note: `#[warn(stable_features)]` on by default\n\nerror: Undefined Behavior: Data race detected between (1) retag write on thread `thread_send_sig` and (2) retag write of type `starry_signal::PendingSignals` on thread `unnamed-2` at alloc47848+0x18\n   --> /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/kspin-0.1.1/src/base.rs:97:28\n    |\n 97 |             data: unsafe { &mut *self.data.get() },\n    |                            ^^^^^^^^^^^^^^^^^^^^^ (2) just happened here\n    |\nhelp: and (1) occurred earlier here\n   --> src/api/thread.rs:253:9\n    |\n253 |         self.pending.lock().set | self.proc.pending()\n    |         ^^^^^^^^^^^^^^^^^^^\n    = help: retags occur on all (re)borrows and as well as when references are copied or moved\n    = help: retags permit optimizations that insert speculative reads or writes\n    = help: therefore from the perspective of data races, a retag has the same implications as a read or write\n    = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior\n    = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information\n    = note: BACKTRACE (of the first span) on thread `unnamed-2`:\n    = note: inside `kspin::BaseSpinLock::<kernel_guard::NoOp, starry_signal::PendingSignals>::lock` at /home/runner/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/kspin-0.1.1/src/base.rs:97:28: 97:49\nnote: inside `starry_signal::api::ThreadSignalManager::send_signal`\n   --> src/api/thread.rs:214:12\n    |\n214 |         if self.pending.lock().put_signal(sig) {\n    |            ^^^^^^^^^^^^^^^^^^^\nnote: inside closure\n   --> tests/multithread.rs:102:17\n    |\n102 |         let _ = thr.send_signal(sig);\n    |                 ^^^^^^^^^^^^^^^^^^^^\n\nnote: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace\n\nerror: aborting due to 1 previous error; 1 warning emitted\n\nerror: test failed, to rerun pass `-p starry-signal --test multithread`\n\nCaused by:\n  process didn't exit successfully: `/home/runner/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /tmp/os-checker-plugin-cargo/Starry-OS/starry-signal/target/miri/x86_64-unknown-linux-gnu/debug/deps/multithread-4fc1ef4b1ff6e42c thread_send_signal` (exit status: 1)\nnote: test exited abnormally; to see the full output pass --no-capture to the harness.\n",
                "miri_timeout": false
              }
            ],
            "failed": 0,
            "duration_ms": 35
          },
          {
            "id": "starry-signal::pending",
            "kind": "test",
            "binary_name": "pending",
            "testcases": [
              {
                "name": "mixed_signal",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "realtime_signal",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "standard_signal",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              }
            ],
            "failed": 0,
            "duration_ms": 9
          },
          {
            "id": "starry-signal::types",
            "kind": "test",
            "binary_name": "types",
            "testcases": [
              {
                "name": "signalinfo_new_kernel",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "signalinfo_new_user",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "signalset_add_remove_has_is_empty",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "signalset_bounds",
                "status": "ok",
                "duration_ms": 4,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              },
              {
                "name": "signalset_dequeue",
                "status": "ok",
                "duration_ms": 3,
                "error": null,
                "miri_pass": true,
                "miri_output": null,
                "miri_timeout": false
              }
            ],
            "failed": 0,
            "duration_ms": 16
          }
        ],
        "failed": 0,
        "duration_ms": 102,
        "pkg_tests_count": 21,
        "workspace_tests_count": 21
      },
      "tests": 6,
      "examples": 0,
      "benches": 0,
      "authors": [
        "Mivik <mivikq@gmail.com>",
        "朝倉水希 <asakuramizu111@gmail.com>"
      ],
      "description": "Signal management library for Starry OS",
      "documentation": null,
      "readme": null,
      "homepage": null,
      "keywords": [
        "starry-os",
        "arceos",
        "signal",
        "ipc"
      ],
      "categories": [],
      "rust_version": null,
      "diag_total_count": 32,
      "last_commit_time": "2025-12-17T12:01:25Z",
      "release_count": null,
      "last_release_size": null,
      "last_release_time": null
    }
  }
}